
<div class="container">
    <div class="row clearfix" style="margin-top:30px;">
        <div class="col col-md-9">
            <div class="form-group">
                <input type="text" name="title" placeholder="文章的标题..." class="form-control" data-ng-model="vm.data.title">
            </div>
            <div class="form-group">
                <textarea id="txtContent" class="form-control" style="width:100%;height:400px;"></textarea>
            </div>
        </div>
        <div class="col col-md-3">
            <div class="form-group">
                <button type="button" data-target="#dvConfig" data-toggle="modal" class="btn btn-default btn-block"><i class="fa fa-cog"></i>设置</button>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading ng-binding">
                    <i class="fa fa-folder"></i> 管理分类
                </div>
                <ul class="list-group categories-list">
                    <li class="list-group-item" ng-repeat="cat in vm.categoryList">
                        <label>
                            <span style="margin-left:20px;" ng-if="cat.isChild"></span>
                            <input type="checkbox" ng-model="cat.checked">
                            {{cat.name}}
                        </label>
                    </li>
                </ul>
            </div>
            <!--<div class="form-group">
                <div class="panel panel-default post-tags-selector">
                    <div class="panel-heading ng-binding">
                        <i class="fa fa-tag fa-sm"></i>
                        标签
                    </div>
                    <input id="txtTags" type="text" value="" ng-model="vm.data.tags" data-role="tagsinput" />
                </div>
            </div>-->
        </div>
    </div>
    <hr />
    <div class="btn-wrapper clearfix">
        <div class="pull-left">
            <span ng-if="vm.data.status == 1" class="text-warning">
                <i class="fa fa-info-circle"></i>
                未发表
            </span>
            <span ng-if="vm.data.status == 2" class="text-success">
                <i class="fa fa-info-circle"></i>
                已发表
            </span>
        </div>
        <div class="pull-right">
            <span ng-if="vm.loading">
                <i class="fa fa-spin fa-spinner"></i>
            </span>
            <button class="btn btn-default" ng-click="vm.cancel()">
                <i class="fa fa-ban"></i>
                取消
            </button>
            <button class="btn btn-warning" ng-click="vm.save(1)" ng-if="vm.id && vm.data.status == 2">
                <i class="fa fa-undo"></i>
                保存并取消发布
            </button>
            <button class="btn btn-default" ng-click="vm.save()">
                <i class="fa fa-save"></i>
                保存
            </button>
            <button class="btn btn-success" ng-click="vm.save(2)" ng-if="vm.data.status != 2">
                <i class="fa fa-check"></i>
                保存并发布
            </button>
        </div>
    </div>
</div>

<div class="modal fade" id="dvConfig">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">文章设置</h4>
            </div>
            <div class="modal-body">
                <div class="form-horizontal clearfix">
                    <div class="form-group">
                        <label class="control-label col-sm-4">作者</label>
                        <div class="col col-sm-8">
                            <select select class="form-control" data-ng-model="vm.data.userID">
                                <option value="{{user.id}}" ng-repeat="user in vm.userList" ng-selected="vm.data.userID==user.id">{{user.nickname}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-4">发表日期</label>
                        <div class="col col-sm-8">
                            <input type="text" class="form-control dateFormatted" data-ng-model="vm.data.postDate">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-4">摘要</label>
                        <div class="col col-sm-8">
                            <textarea class="form-control" data-ng-model="vm.data.summary"> </textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-4 col-sm-8">

                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-ng-model="vm.data.allowComment">
                                    允许评论
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>